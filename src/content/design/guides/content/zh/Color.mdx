## 双层色彩系统

该库的核心是两个调色板——私有调色板和语义调色板。它们在结构和用途上有所不同。私有调色板为所有主题中的所有颜色的所有色调定义了 RGBA 值，而语义调色板则使用私有颜色作为值，并应用于特定的界面元素。

![双层色彩系统](/static/images/design/Color/ColorSystem.png)

### **私有颜色**

这是设计系统中的基础颜色层。它们不打算在组件内部直接使用，而是作为语义变量的值，这些语义变量已在组件中使用。私有变量的值是 RGBA/RGB 颜色。

在此调色板中，每个主题都列出了所有颜色的所有色调，带或不带 alpha 通道，并带有 **Solid** 后缀。

![私有颜色](/static/images/design/Color/PrivateColors.png)

### **带 Alpha 通道的颜色**

带 Alpha 通道的颜色仅存在于 500 及更低索引的颜色中。它们与背景颜色混合，以确保可读性和对比度不会丢失。建议使用：

1.  用于浅色调（从 50 到 300）；
2.  用于与排版相关的项目，其中文本可能会显示在任何颜色的背景之上（使用 Alpha 通道有助于避免因对比度丢失而产生的令人不快的情况）。

### **Solid 颜色**

Solid 颜色用于可能出现一个对象叠加在另一个对象之上，并且不允许在重叠处混合颜色的情况。它们是根据主题的主背景构建的。考虑到 Solid 颜色也可以显示在任意颜色的背景之上，因此应谨慎使用它们。

更改主背景或对比背景的颜色时，建议重新生成色调，以使 Solid 颜色与带 Alpha 通道的颜色在外观上保持同步。

### 如何构建色调

色调的构建从色阶的中间值开始，在本例中是索引为 550 的颜色。这是主色，从中生成饱和度较低和饱和度较高的色调。例外情况是黑色和白色，它们位于色阶的末端，允许创建更多具有 alpha 通道的色调和值。

索引从 50 到 500 的颜色通过降低主色 (550) 的 Opacity 来构建。具有 alpha 通道的颜色仅在此范围内存在，而实心颜色可以在整个色阶中具有值。

索引从 600 到 1000 的颜色通过混合与所选主题的主色相对比的背景来构建。例如，在浅色主题中，主背景是白色，与之相对比的是深色主题的背景。它被添加到颜色中以创建更深的色调。

在深色主题中，情况正好相反：主背景是深色的，与之相对比的是浅色主题的背景，即在本例中是白色。它被添加到颜色中以形成高索引的色调。

有一个脚本可以立即构建一个适合交付给开发人员的颜色色阶。

### **语义颜色**

这组颜色中的变量按类别**分组**，这些类别在组件中按**含义**使用。它们的值通过私有变量为每个主题设置。有时，一个语义变量可以作为另一个变量的值，但这需要谨慎，以避免递归。

![Semantic colors](/static/images/design/Color/SemanticColors.png)

### **按类型分类**

在 Figma 中，为了更方便导航，变量被分为下面列出的组。然而，在代码中，结构更直接。Branding 不会单独归为一类，Base 变量组也只有一个。在变量的名称、组成和值方面，Figma 和代码是等效的，除非为了提高可读性或理解性而优化了名称。

1. **Branding**

Вот перевод исходного файла руководства по дизайну на китайский язык:

---

Коллекция бренд-переменных, собранная из всех категорий. Это базовые цвета, которые позволяют быстро применить стиль и посмотреть результат. Группа выделена только в Figma. В коде этой группы не существует, а цвета распределены по своим группам.

2. **Text**

   Группа переменных для цвета текста и иконок. Поскольку тексты и иконки часто отображаются вместе, важно поддерживать их визуальное соответствие.

3. **Base**

   Группа цветов для всевозможных подложек, заливок и фонов.

4. **Base Semantic**

   Цвета подложек с окрасом Info, Positive, Warning, Danger, Misc. Предусмотрены значения как для Normal, так и для Hover-стейтов. Могут подойти для некоторых типов инфографики, но не для всех. Группа выделена только в Figma. В коде это часть группы **Base**.

5. **Base Float**

   Цвета подложек элементов, парящих над основным фоном страницы. Группа выделена только в Figma. В коде это часть группы **Base**.

6. **Line**

   Цвета обводок, линий, разделителей, рамок и любых других тонких элементов.

7. **Effects**

   Цвета для затемнения текста, создания теней и т.д.

8. **Misc**

   Группа с разными техническими цветами — скроллбары, оси для графиков, фон тултипа в чарте.


Подробнее о назначении каждой переменной можно прочитать в описании колорстилей в Figma или в сторибуке.

### Категории по смыслу

У переменных каждой группы могут быть свои смыслы, что обусловлено принципами применения каждой группы. Например, для текстов есть смысл использовать такие категории, как **основной** и **дополнительный**, которые не применимы к другим типам контента.

Среди значений, общих для разных категорий, стоит выделить следующие:

- успех (success);
- опасность (dangerous);
- предупреждение (warning);
- нейтральное значение (neutral);
- и т.д.

## Вэриаблы и colorstyles

Работа со значениями цветов происходит в интерфейсе Local Variables в Figma. Чтобы туда попасть, нужно открыть файл с библиотекой, убедиться, что на странице ничего не выбрано (для этого можно кликнуть в пустой фон канваса) и нажать на Local Variables в правой панели.

![Variables](/static/images/design/Color/Variables.png)

---

**Перевод на китайский:**

---

**品牌变量集合，汇集了所有类别。这些是基础颜色，可用于快速应用样式并查看结果。此组仅在 Figma 中突出显示。在代码中，此组不存在，颜色会分配到各自的组中。**

**2. Text**

   **用于文本和图标颜色的变量组。由于文本和图标经常一起显示，因此保持它们的视觉一致性非常重要。**

**3. Base**

   **用于各种背景、填充和底色的颜色组。**

**4. Base Semantic**

   **具有 Info、Positive、Warning、Danger、Misc 色彩的背景颜色。提供了 Normal 和 Hover 状态的值。可能适用于某些类型的图表，但并非全部。此组仅在 Figma 中突出显示。在代码中，这是 Base 组的一部分。**

**5. Base Float**

   **用于悬浮在页面主背景之上的元素背景的颜色。此组仅在 Figma 中突出显示。在代码中，这是 Base 组的一部分。**

**6. Line**

   **用于描边、线条、分隔符、边框和任何其他细小元素的颜色。**

**7. Effects**

   **用于文本阴影、创建阴影等的颜色。**

**8. Misc**

   **包含各种技术颜色的组 — 滚动条、图表轴、图表工具提示背景。**

**有关每个变量用途的更多信息，请参阅 Figma 中的颜色样式说明或 Storybook。**

### 按含义分类

**每个组的变量可能具有不同的含义，这取决于每个组的应用原则。例如，对于文本，使用“主要”和“次要”等类别是有意义的，而这些类别不适用于其他类型的内容。**

**在不同类别之间通用的值中，值得强调的有：**

*   **成功 (success);**
*   **危险 (dangerous);**
*   **警告 (warning);**
*   **中性值 (neutral);**
*   **等等。**

## 变量和颜色样式

**颜色值的操作在 Figma 的 Local Variables 界面中进行。要进入该界面，请打开包含库的文件，确保画布上未选择任何内容（为此可以单击空白背景），然后在右侧面板中单击 Local Variables。**

![Variables](/static/images/design/Color/Variables.png)

在 color styles 仍处于 Beta 阶段时，设计系统将继续使用 color styles 来直接为对象定义颜色。此时，color style 的值将是相应的变量。这意味着：

1. 要更改 color style 的颜色，您需要更改相应变量的颜色。
2. Color styles 继承变量的属性，特别是对主题的支持。因此，应用了 color style 的对象可以通过 Figma 的功能来切换主题。

   ![Styles](/static/images/design/Color/Styles.png)

## 主题

Gravity-UI 库支持 4 种主题：浅色、深色以及它们的对比度增强版本。目前行业标准是至少支持两种：浅色和深色。考虑到用户偏好的多样性，很难选择一种完美的方案。

高对比度主题是为了解决那些在普通主题中觉得对比度不足的用户而设计的。这种不足可能源于设备本身的特性，例如显示器校准、亮度设置、面板类型及其色彩表现（尤其是电视机），也可能源于室内照明。目前，这些主题尚不能被视为解决可访问性（accessibility）问题的方案。